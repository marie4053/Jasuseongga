<script setup lang="ts">
  import CategoryFilterButton from '@/components/recipe/CategoryFilterButton.vue';
  import RecipeRectangleCard from '@/components/recipe/RecipeRectangleCard.vue';
  import SearchBarRounded from '@/components/recipe/SearchBarRounded.vue';
  import {reactive} from 'vue';

  const categoryList = [
    {id: 'rice', label: 'ë°¥', image: '/recipe/recipe_icon_rice.svg'},
    {id: 'side', label: 'ë°˜ì°¬', image: '/recipe/recipe_icon_side.svg'},
    {id: 'soup', label: 'êµ­', image: '/recipe/recipe_icon_soup.svg'},
    {id: 'one_dish', label: 'ì¼í’ˆ', image: '/recipe/recipe_icon_one_dish.svg'},
    {id: 'dessert', label: 'í›„ì‹', image: '/recipe/recipe_icon_dessert.svg'},
    {id: 'all', label: 'ì „ì²´', image: '/recipe/recipe_icon_all.svg'},
  ];
  const recipeList = [
    {
      name: 'ì €ì—¼ëœì¥ ì‚¼ì¹˜êµ¬ì´',
      image: '/recipe/recipe_popular1.webp',
    },
    {
      name: 'ì°¸ë‚˜ë¬¼ ì†Œë³´ë¡œ ë®ë°¥',
      image: '/recipe/recipe_popular2.webp',
    },
    {
      name: 'ì½”ì½”ë„›ì›Œí„° í† ë§ˆí† ì¹´ë ˆ',
      image: '/recipe/recipe_popular3.webp',
    },
    {
      name: 'ì €ì—¼ëœì¥ ì‚¼ì¹˜êµ¬ì´',
      image: '/recipe/recipe_popular1.webp',
    },
    {
      name: 'ì°¸ë‚˜ë¬¼ ì†Œë³´ë¡œ ë®ë°¥',
      image: '/recipe/recipe_popular2.webp',
    },
    {
      name: 'ì½”ì½”ë„›ì›Œí„° í† ë§ˆí† ì¹´ë ˆ',
      image: '/recipe/recipe_popular3.webp',
    },
    {
      name: 'ì €ì—¼ëœì¥ ì‚¼ì¹˜êµ¬ì´',
      image: '/recipe/recipe_popular1.webp',
    },
    {
      name: 'ì°¸ë‚˜ë¬¼ ì†Œë³´ë¡œ ë®ë°¥',
      image: '/recipe/recipe_popular2.webp',
    },
    {
      name: 'ì½”ì½”ë„›ì›Œí„° í† ë§ˆí† ì¹´ë ˆ',
      image: '/recipe/recipe_popular3.webp',
    },
  ];

  const activeFilterList = reactive(['rice']);
  const ingredientList = reactive(['ì†Œê³ ê¸°', 'ë‹¹ê·¼']);

  const handleSearch = (searchText: string) => alert(`ê²€ìƒ‰ì–´: ${searchText}`);
</script>

<template>
  <!-- ë°°ë„ˆ -->
  <div class="w-full h-[340px] overflow-hidden">
    <div class="bg-[url(/recipe/recipe_search_banner.webp)] w-full h-full bg-cover bg-center">
      <div class="w-full h-full bg-mono-900/30 flex place-content-center pb-[70px]">
        <div class="container flex flex-col gap-10 justify-end">
          <!-- íƒ€ì´í‹€ -->
          <div>
            <div class="text-[24px] text-mono-050 leading-10">ê°„í¸í•˜ê²Œ ë”°ë¼í•˜ëŠ” ì˜¤ëŠ˜ì˜ í•œ ë¼</div>
            <div class="text-[52px] font-bold text-mono-050 leading-16">ë ˆì‹œí”¼ ê²€ìƒ‰</div>
            <!-- ğŸ”¥ ë¸Œë˜ë“œí¬ëŸ¼ ì†ì„± ì ìš©í•˜ê¸° -->
            <v-breadcrumbs
              :items="['í™ˆ', 'ë ˆì‹œí”¼', 'ë ˆì‹œí”¼ ê²€ìƒ‰']"
              color="#fafaf9"
              active-color="#fafaf9"
              class="px-0"
            ></v-breadcrumbs>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ë°ì´í„° ê°œìˆ˜ -->
  <div class="container w-full pt-[60px] text-[20px] text-mono-600 font-medium text-right">
    ì „ì²´ : NNNê°œ ë ˆì‹œí”¼
  </div>

  <div class="container flex justify-between pt-[28px] pb-[100px]">
    <!-- ê²€ìƒ‰ í•„í„° -->
    <div
      class="flex flex-col w-[400px] p-[32px] border-2 border-mono-200 rounded-[12px] justify-center self-start sticky top-4"
    >
      <!-- ì´ˆê¸°í™” ë²„íŠ¼ -->
      <div class="flex justify-end">
        <button>
          <div class="flex gap-1 items-center">
            <div class="text-[18px] text-mono-400">ì´ˆê¸°í™”</div>
            <v-icon size="20px" color="#79716b">mdi-restart</v-icon>
          </div>
        </button>
      </div>
      <!-- ë ˆì‹œí”¼ë³„ ê²€ìƒ‰ ì„¹ì…˜ -->
      <div class="flex flex-col gap-5">
        <div class="text-[28px] font-semibold text-mono-900">ë ˆì‹œí”¼ë³„ ê²€ìƒ‰</div>
        <SearchBarRounded @search="handleSearch" />
        <!-- í•„í„° ë²„íŠ¼ -->
        <div class="grid grid-cols-3 gap-5 p-[12px] place-items-center">
          <template v-for="item in categoryList" :key="item.id">
            <CategoryFilterButton
              :image="item.image"
              :label="item.label"
              :is-active="activeFilterList.includes(item.id)"
            />
          </template>
        </div>
      </div>

      <div class="flex items-center h-[80px] w-[268px] place-self-center">
        <v-divider></v-divider>
      </div>

      <!-- ì¬ë£Œë³„ ê²€ìƒ‰ ì„¹ì…˜ -->
      <div class="flex flex-col gap-5">
        <div class="text-[28px] font-semibold text-mono-900">ì¬ë£Œë³„ ê²€ìƒ‰</div>
        <SearchBarRounded @search="handleSearch" />
        <div class="flex flex-wrap gap-3">
          <template v-for="item in ingredientList" :key="item">
            <v-chip close-icon="mdi-close" closable>{{ item }}</v-chip>
          </template>
        </div>
      </div>
    </div>
    <!-- ë¦¬ìŠ¤íŠ¸ -->
    <div class="grid grid-cols-2 gap-x-[48px] gap-y-[28px]">
      <template v-for="item in recipeList">
        <RecipeRectangleCard :title="item.name" :image="item.image" />
      </template>
    </div>
  </div>
</template>

<style scoped>
  :deep(.v-chip) {
    color: var(--color-mono-050);
    background: var(--color-main-400);
    font-weight: 600;
    padding-left: 14px;
    padding-right: 14px;
  }
</style>
